---
title: 软件包概览
description: ObjectDocs 软件包完整概览，包含功能、开发状态和版本历史。
---

import { Package, Terminal, Layout, Zap, CheckCircle, Clock } from 'lucide-react';

# 软件包概览

ObjectDocs 以 **pnpm 工作区 monorepo** 组织，包含两个核心软件包。本文档详细介绍每个软件包的功能、当前状态和开发历史。

**当前版本**: v0.2.12 | **最后更新**: 2026-02-08

## 软件包概要

| 软件包 | 版本 | 描述 | 状态 |
|--------|------|------|------|
| `@objectdocs/cli` | v0.2.12 | 构建和管理文档的命令行工具 | ✅ 稳定 |
| `@objectdocs/site` | v0.2.12 | Next.js 文档站点模板和渲染引擎 | ✅ 稳定 |

## @objectdocs/cli

<Cards>
<Card icon={<Terminal />} title="CLI 工具">

ObjectDocs 的主要开发者接口。提供初始化、开发、构建和部署文档站点的命令。

- **框架**: CAC（命令行框架）
- **语言**: JavaScript/Node.js (ESM)
- **入口**: `bin/cli.mjs`

</Card>
</Cards>

### 命令

<Steps>

### `objectdocs init`

通过复制站点模板并设置开发环境来初始化新的文档项目。

**功能**:
- 将 `@objectdocs/site` 包复制到 `content/.fumadocs`
- 创建 `content/package.json`，包含 dev/build/start 脚本
- 在 `content/.fumadocs` 中安装依赖
- 更新 `.gitignore` 排除生成的文件

### `objectdocs dev [docsDir]`

启动带热重载的开发服务器。

**功能**:
- 默认端口：7777（可配置）
- 监听 `docs.site.json` 变更并自动重启
- 同步公共资源到站点引擎
- 设置 `DOCS_DIR` 环境变量

### `objectdocs build [docsDir]`

构建文档站点用于生产环境。

**功能**:
- 支持静态导出（`out/` 目录）和动态独立（`.next/`）模式
- 复制配置和公共资源
- 符号链接感知的构件复制，兼容 Vercel

### `objectdocs start`

启动生产服务器。

**功能**:
- 静态模式：使用 `serve` 从 `out/` 目录提供服务
- 动态模式：运行 Next.js 生产服务器
- 可配置端口

### `objectdocs translate`

使用 OpenAI 的 AI 驱动内容翻译。

**功能**:
- 将 MDX 内容翻译为配置的语言
- `--all` 参数用于批量翻译
- CI 兼容，支持环境变量配置
- 生成语言特定文件（如 `.cn.mdx`、`.ja.mdx`）

</Steps>

### 依赖

| 依赖 | 版本 | 用途 |
|------|------|------|
| `@objectdocs/site` | workspace:* | 初始化用的站点模板 |
| `cac` | ^6.7.14 | CLI 框架 |
| `openai` | ^4.0.0 | AI 驱动的翻译 |
| `dotenv` | ^16.4.5 | 环境变量加载 |
| `typescript` | ^5.9.3 | TypeScript 支持 |

### 功能状态

| 功能 | 状态 | 备注 |
|------|------|------|
| 项目初始化 | ✅ 已完成 | 完整的 `init` 工作流 |
| 开发服务器 | ✅ 已完成 | 热重载、配置监听 |
| 生产构建 | ✅ 已完成 | 静态 + 动态模式 |
| 生产服务器 | ✅ 已完成 | 静态 + 动态服务 |
| AI 翻译 | ✅ 已完成 | OpenAI 集成 |
| GitHub 集成 | ⬚ 规划中 | 第二阶段 |
| README 迁移 | ⬚ 规划中 | 第二阶段 |
| API 文档生成 | ⬚ 规划中 | 第二阶段 |

---

## @objectdocs/site

<Cards>
<Card icon={<Layout />} title="站点模板">

完整的 Next.js 应用模板，作为文档渲染引擎。基于 Fumadocs 构建，完整支持国际化。

- **框架**: Next.js 16 (App Router) + Fumadocs 16
- **样式**: Tailwind CSS 4
- **语言**: TypeScript
- **React**: v19 (Server Components)

</Card>
</Cards>

### 核心功能

<Cards>
<Card icon={<CheckCircle />} title="内容渲染">

- MDX 编译，支持 remark/rehype 插件
- 代码语法高亮（Vesper 主题）
- 图片缩放功能
- 内置组件：Callout、Card、Cards、Steps、Step
- 自动生成目录

</Card>
<Card icon={<Zap />} title="站点引擎">

- 基于文件系统的路由
- 全文搜索 API 端点
- `meta.json` 驱动的导航树
- 可配置的侧边栏、导航栏和页脚
- 深色模式支持

</Card>
</Cards>

### 架构

| 组件 | 路径 | 描述 |
|------|------|------|
| 根布局 | `app/layout.tsx` | HTML 外壳、全局 Provider |
| 语言路由 | `app/[lang]/layout.tsx` | i18n 布局与 Fumadocs |
| 文档页面 | `app/[lang]/docs/[[...slug]]/page.tsx` | 动态 MDX 页面渲染 |
| 首页重定向 | `app/[lang]/page.tsx` | 重定向到文档根路径 |
| 搜索 API | `app/api/search/route.ts` | 全文搜索端点 |
| i18n 系统 | `lib/i18n.ts` | 6 语言支持及 UI 翻译 |
| 配置加载器 | `lib/config.ts` | `docs.site.json` 解析和默认值 |
| 源管理器 | `lib/source.ts` | 带 i18n 的 Fumadocs 内容源 |
| MDX 组件 | `mdx-components.tsx` | 自定义组件注册表 |
| 源配置 | `source.config.ts` | 内容目录和 MDX 插件配置 |

### 国际化支持

6 种语言的预置 UI 翻译：

| 语言 | 代码 | 目录标签 | 搜索 | 最后更新 |
|------|------|---------|------|---------|
| English | `en` | "On this page" | "Search" | "Last updated on" |
| 中文 | `cn` | "目录" | "搜索" | "最后更新于" |
| 日本語 | `ja` | "目次" | "検索" | "最終更新" |
| Français | `fr` | "Sur cette page" | "Rechercher" | "Dernière mise à jour" |
| Deutsch | `de` | "Auf dieser Seite" | "Suchen" | "Zuletzt aktualisiert am" |
| Español | `es` | "En esta página" | "Buscar" | "Última actualización" |

### 配置选项

站点从 `docs.site.json` 读取配置，支持：

- **站点元数据**：标题、描述、URL、图标
- **品牌**：名称、Logo（明/暗）、主题色、边框圆角
- **导航**：导航栏链接，含文本、URL、图标、外部标记
- **侧边栏**：可折叠、预加载、默认展开层级、标签
- **目录**：启用、深度
- **页脚**：版权文本
- **页面功能**：最后更新时间戳、在 GitHub 上编辑链接
- **内容**：代码主题、图片缩放、数学公式支持
- **国际化**：默认语言、语言列表
- **构建**：模式（export/standalone）

### 依赖

| 依赖 | 版本 | 用途 |
|------|------|------|
| `next` | ^16.1.2 | 应用框架 |
| `react` / `react-dom` | ^19.2.3 | UI 渲染 |
| `fumadocs-core` | ^16.4.7 | 文档引擎核心 |
| `fumadocs-ui` | ^16.4.7 | 文档 UI 组件 |
| `fumadocs-mdx` | ^14.2.5 | MDX 内容处理 |
| `tailwindcss` | ^4.1.18 | 实用优先 CSS |
| `typescript` | ^5.9.3 | 类型安全 |
| `openai` | ^4.0.0 | AI 功能 |
| `lucide-react` | ^0.562.0 | 图标库 |

### 功能状态

| 功能 | 状态 | 备注 |
|------|------|------|
| MDX 渲染 | ✅ 已完成 | 完整的 Fumadocs 管道 |
| 国际化（6 种语言） | ✅ 已完成 | 基于文件 + UI 翻译 |
| 全文搜索 | ✅ 已完成 | API 端点 |
| 深色模式 | ✅ 已完成 | 通过 Fumadocs UI |
| 代码高亮 | ✅ 已完成 | Vesper 主题 |
| 图片缩放 | ✅ 已完成 | 可配置 |
| 独立输出 | ✅ 已完成 | Vercel/Docker 就绪 |
| 静态导出 | ✅ 已完成 | CDN 可部署 |
| 配置系统 | ✅ 已完成 | `docs.site.json` |
| ISR 支持 | ⬚ 规划中 | 第一阶段 |
| Edge Functions | ⬚ 规划中 | 第一阶段 |
| 数学渲染 | ⬚ 规划中 | 配置已存在，未启用 |

---

## 版本历史

### v0.2.12（最新）
- 维护更新补丁发布

### v0.2.11
- 修复：处理构建复制过程中的断裂符号链接，防止 Vercel 上的 ENOENT 错误

### v0.2.10
- 新增：启用独立输出模式，更好支持 Vercel/Docker 部署

### v0.2.9
- 修复：在 `tsconfig.json` 中添加 `.source` 路径别名以解析生成的文件

### v0.2.8
- 修复：复制 `.next` 目录时使用 `dereference: true` 展开所有符号链接

### v0.2.7
- 修复：使用相对导入替代生成内容的别名，避免 monorepo 中的别名解析问题

### v0.2.6
- 修复：复制 `.next` 目录替代符号链接，支持 Vercel 部署

### v0.2.5
- 优化：添加 `transpilePackages` 配置修复 monorepo 模块解析

### v0.2.4
- 修复：重命名 `proxy.ts` 为 `middleware.ts`，修复 Next.js 16 构建错误

### v0.2.3
- 修复：更新包元数据用于发布

### v0.2.2
- 文档：更新 README，修正配置文件名称

### v0.2.1
- Bug 修复和改进

### v0.2.0
- 首次发布：基于 Next.js 14 和 Fumadocs 构建的现代文档引擎

### v0.1.0
- 首次发布，包含元数据驱动架构、低代码组件嵌入、企业级 UI、多产品支持

---

## 入门模板

`examples/starter/` 中提供了示例入门模板：
- 预配置的 `docs.site.json`，ObjectStack 品牌
- 示例文档结构
- 带有 `meta.json` 导航的可直接运行的内容

```bash
# 使用入门模板快速开始
cp -r examples/starter my-docs
cd my-docs
npm init @objectdocs
```

<Callout type="info">
详细技术架构请参阅[系统设计](/docs/design)文档。功能路线图请参阅[开发路线图](/docs/development-plan)。
</Callout>
